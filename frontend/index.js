// index.js
/*
$(document).ready(function() {
    $('#form').submit(function(event) {
        event.preventDefault();

        const formData = {
            projectName: $('#projectName').val(),
            sbu: $('#sbu').val(),
            projectOwner: $('#projectOwner').val(),
            startDate: $('#startDate').val(),
            endDate: $('#endDate').val(),
			protocols: $('#protocols').val(),
        };

        $.ajax({
            type: 'POST',
            url: '/submit-form',
            data: JSON.stringify(formData),
            contentType: 'application/json',
            success: function(response) {
                console.log(response);
                alert('Form submitted successfully');
            },
            error: function(xhr, status, error) {
                console.error('Error:', error);
                alert('Error submitting form');
            }
        });
    });
});
*/
$(document).ready(function() {
    $('#form').submit(function(event) {
        event.preventDefault();

        // Function to check if a string starts with a special character or number
        function startsWithSpecialCharacterOrNumber(str) {
            return /^[^a-zA-Z]/.test(str); // Checks if the string starts with any character other than a letter
        }

        const formData = {
            projectName: $('#projectName').val(),
            sbu: $('#sbu').val(),
            projectOwner: $('#projectOwner').val(),
            startDate: $('#startDate').val(),
            endDate: $('#endDate').val(),
            protocols: $('#protocols').val(),
        };

        // Frontend checks for project name, SBU, and project owner
        if (startsWithSpecialCharacterOrNumber(formData.projectName)) {
            //alert('Project name should not start with a special character or number.');
			showAlert_warning();
            return;
        }
		//show alert
		function showAlert_warning() {
        document.getElementById('alert_warning').style.display = 'block';
        // Hide the alert after 2 seconds
        setTimeout(function() {
            document.getElementById('alert_warning').style.display = 'none';
        }, 2000);
    }
		function showAlert_success() {
        document.getElementById('alert_success').style.display = 'block';
        // Hide the alert after 2 seconds
        setTimeout(function() {
            document.getElementById('alert_success').style.display = 'none';
        }, 2000);
    }
	
		function showAlert_error() {
			document.getElementById('alert_error').style.display = 'block';
			// Hide the alert after 2 seconds
			setTimeout(function() {
				document.getElementById('alert_error').style.display = 'none';
			}, 2000);
		}

        $.ajax({
            type: 'POST',
            url: '/submit-form',
            data: JSON.stringify(formData),
            contentType: 'application/json',
            success: function(response) {
                console.log(response);
                //alert('Form submitted successfully');
				showAlert_success();
				
            },
            error: function(xhr, status, error) {
                console.error('Error:', error);
                //alert('Error submitting form');
				showAlert_error();
            }
			
        });
    });
});

